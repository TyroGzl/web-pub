<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link href="https://fonts.proxy.ustclug.org/css2?family=Noto+Serif+SC&display=swap" rel="stylesheet"><link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png"><link rel="icon" href="/img/fluid.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="SummerSong"><meta name="keywords" content=""><meta name="description" content="Numpy库基础用法"><meta property="og:type" content="article"><meta property="og:title" content="Python学习笔记：numpy基础使用"><meta property="og:url" content="https://summersong.top/post/70407431.html"><meta property="og:site_name" content="SummerSong&#39;s blog"><meta property="og:description" content="Numpy库基础用法"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://summersong.top/img/numpy.png"><meta property="article:published_time" content="2022-08-27T08:22:36.000Z"><meta property="article:modified_time" content="2023-03-15T03:35:55.187Z"><meta property="article:author" content="SummerSong"><meta property="article:tag" content="Python"><meta property="article:tag" content="Numpy"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://summersong.top/img/numpy.png"><meta name="referrer" content="no-referrer-when-downgrade"><title>Python学习笔记：numpy基础使用 - SummerSong&#39;s blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/gundongtiao.css# 滚动条颜色.css"><link rel="stylesheet" href="/css/mac.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3708452_waanfcf6zlk.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"summersong.top",root:"/",version:"1.9.2",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!0,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:2},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"iolF4oq16JCCrJAEqnYreWzQ-gzGzoHsz",app_key:"ux58hWuT3fEw0vvN55DjTgUe",server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 6.2.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>SummerSong&#39;s blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="Python学习笔记：numpy基础使用"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> SummerSong </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-08-27 16:22" pubdate>2022年8月27日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 8.4k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 70 分钟 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">Python学习笔记：numpy基础使用</h1><p class="note note-info">本文最后更新于：2023年3月15日 中午</p><div class="markdown-body"><h2 id="1-数据维度">1 数据维度</h2><h3 id="1-1-创建数据">1.1 创建数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># 创建一个一维array对象</span><br>arr1 = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr1数据：\n&quot;</span>, arr1, <span class="hljs-string">&quot;\narr1维度：&quot;</span>, arr1.ndim)<br><br><span class="hljs-comment"># 创建一个二维array对象</span><br>arr2 = np.array([[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>],<br>                 [<span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>],<br>                 [<span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>]])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr2数据：\n&quot;</span>, arr2, <span class="hljs-string">&quot;\narr2维度：&quot;</span>, arr2.ndim)<br><br><span class="hljs-comment"># 创建一个三维array对象</span><br>arr3 = np.array([<br>    [<br>        [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>],<br>        [<span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>],<br>        [<span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>]<br>    ],<br>    [<br>        [<span class="hljs-number">21</span>, <span class="hljs-number">41</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>],<br>        [<span class="hljs-number">61</span>, <span class="hljs-number">81</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>],<br>        [<span class="hljs-number">81</span>, <span class="hljs-number">101</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>]<br>    ],<br><br>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr3数据：\n&quot;</span>, arr3, <span class="hljs-string">&quot;\narr3维度：&quot;</span>, arr3.ndim)<br></code></pre></td></tr></table></figure><p>运行结果如下：</p><p><img src="/post/70407431/image-20220827121637519.png" srcset="/img/loading.gif" lazyload alt></p><p><code>array.ndim</code>可以得到<code>Numpy Array</code>对象的维度。</p><h3 id="1-2-添加数据">1.2 添加数据</h3><h4 id="1-2-1-一维数据">1.2.1 一维数据</h4><p>一维数据直接使用<code>np.concatenate</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>])<br>arr2 = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">12</span>])<br>arr = np.concatenate([arr1, arr2])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr1数据：&quot;</span>, arr1, <span class="hljs-string">&quot;\narr1维度：&quot;</span>, arr1.ndim)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr2数据：&quot;</span>, arr2, <span class="hljs-string">&quot;\narr2维度：&quot;</span>, arr2.ndim)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr数据：&quot;</span>, arr, <span class="hljs-string">&quot;\narr维度：&quot;</span>, arr.ndim)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827134816449.png" srcset="/img/loading.gif" lazyload alt></p><h4 id="1-2-2-二维数据">1.2.2 二维数据</h4><p>首先需要添加一个维度，然后在第一个维度上添加数据。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>])<br>arr2 = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>])<br><span class="hljs-comment"># 首先把它们都变成二维，以下两种方法都可以</span><br>arr1 = np.expand_dims(arr1, <span class="hljs-number">0</span>)<br>arr2 = arr2[np.newaxis, :]<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr1加维度后：&quot;</span>, arr1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr2加维度后：&quot;</span>, arr2)<br><br><span class="hljs-comment"># 然后再在第一个维度上叠加</span><br>arr = np.concatenate([arr1, arr2])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;扩展后：\n&quot;</span>, arr)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827135533305.png" srcset="/img/loading.gif" lazyload alt></p><h3 id="1-3-合并数据">1.3 合并数据</h3><p>上述是在第一个维度上叠加，也可以在第二个维度上叠加，只需要给<code>np.concatenate</code>输入一个参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>arr1 = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>])<br>arr2 = np.array([<span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>])<br><span class="hljs-comment"># 首先把它们都变成二维，以下两种方法都可以</span><br>arr1 = np.expand_dims(arr1, <span class="hljs-number">0</span>)<br>arr2 = arr2[np.newaxis, :]<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr1加维度后：&quot;</span>, arr1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;arr2加维度后：&quot;</span>, arr2)<br><br>arr = np.concatenate([arr1, arr2], axis=<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第一维度叠加：\n&quot;</span>, arr)<br><br>arr = np.concatenate([arr1, arr2], axis=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第二维度叠加：\n&quot;</span>, arr)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827135842793.png" srcset="/img/loading.gif" lazyload alt></p><p>只要维度可以对齐，可以在任意维度上进行合并操作，但是有些数据维度对不齐，就无法合并，例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])<br>arr2 = np.array([[<span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]])<br><br><span class="hljs-comment"># arr = np.concatenate([arr1, arr2], axis=0)  # error</span><br><span class="hljs-comment"># print(&quot;第一维度叠加：\n&quot;, arr)</span><br><br>arr = np.concatenate([arr1, arr2], axis=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第二维度叠加：\n&quot;</span>, arr)<br></code></pre></td></tr></table></figure><p>对于二维数据，可以使用<code>np.vstack()</code>和<code>np.hstack()</code>进行竖直和水平合并：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])<br>arr2 = np.array([[<span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>]])<br><br>arr = np.vstack([arr1, arr2])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;竖直合并：\n&quot;</span>, arr)<br><br>arr = np.hstack([arr1, arr2])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;水平合并：\n&quot;</span>, arr)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827140621379.png" srcset="/img/loading.gif" lazyload alt></p><h3 id="1-4-观察形态">1.4 观察形态</h3><p>可以使用<code>array.size</code>获取元素总个数，使用<code>np.shape</code>获取行数和列数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr = np.array([[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])<br><br><span class="hljs-comment"># 元素总数</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;元素总数：&quot;</span>, arr.size)<br><br><span class="hljs-comment"># 行数和列数</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第一个维度（行）：&quot;</span>, arr.shape[<span class="hljs-number">0</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第二个维度（列）：&quot;</span>, arr.shape[<span class="hljs-number">1</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;所有维度：&quot;</span>, arr.shape)<br><br><span class="hljs-comment"># 三维数据</span><br>arr1 = np.array([<br>    [<br>        [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br>    ],<br>    [<br>        [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>]<br>    ]<br>])<br><br><span class="hljs-comment"># 元素总数</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;元素总数：&quot;</span>, arr1.size)<br><br><span class="hljs-comment"># 行数和列数</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第一个维度：&quot;</span>, arr1.shape[<span class="hljs-number">0</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第二个维度：&quot;</span>, arr1.shape[<span class="hljs-number">1</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;第三个维度：&quot;</span>, arr1.shape[<span class="hljs-number">2</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;所有维度：&quot;</span>, arr1.shape)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827141411032.png" srcset="/img/loading.gif" lazyload alt></p><h2 id="2-数据选择">2 数据选择</h2><h3 id="2-1-单个选取">2.1 单个选取</h3><p>可以直接用索引取值，也可以一次取多个：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a[0]:&quot;</span>, a[<span class="hljs-number">0</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a[1]:&quot;</span>, a[<span class="hljs-number">1</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a[0,1]:&quot;</span>, a[[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]])<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827144326937.png" srcset="/img/loading.gif" lazyload alt></p><p>二维数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>b = np.array([<br>    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],<br>    [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],<br>    [<span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]<br>])<br><br><span class="hljs-comment"># 选第 2 行所有数</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;b[1]:\n&quot;</span>, b[<span class="hljs-number">1</span>])<br><br><span class="hljs-comment"># 选第 2 行，第 1 列的数</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;b[1,0]:\n&quot;</span>, b[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>])<br><br><span class="hljs-comment"># 这里有点别扭，第一个数组表示行数，第二个数组表示列数，如果对应到数据，</span><br><span class="hljs-comment"># 第一个拿的是数据位是 [1,2]</span><br><span class="hljs-comment"># 第二个拿的是 [0,3]</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;b[[1,0],[2,3]]:\n&quot;</span>,<br>      b[[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>],<br>        [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]])<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827144550524.png" srcset="/img/loading.gif" lazyload alt></p><h3 id="2-2-切片划分">2.2 切片划分</h3><p>一般形式为<code>array[a:b,c:d]</code>，<code>a:b</code>表示从第一个维度从<strong>a到b-1</strong>，以此类推，<code>:</code>前缺省值为最小，<code>:</code>后缺省值为最大，例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>b = np.array([<br>    [<br>        [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],<br>        [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],<br>    ],<br>    [<br>        [<span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>],<br>        [<span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>]<br>    ],<br>    [<br>        [<span class="hljs-number">17</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>],<br>        [<span class="hljs-number">21</span>, <span class="hljs-number">22</span>, <span class="hljs-number">23</span>, <span class="hljs-number">24</span>]<br>    ]<br>])<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;***********b[:2]************:\n&quot;</span>, b[:<span class="hljs-number">2</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*********b[:2, 1:2]*********:\n&quot;</span>, b[:<span class="hljs-number">2</span>, <span class="hljs-number">1</span>:<span class="hljs-number">2</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*****b[1:3, 1:2, -3:-2]*****:\n&quot;</span>, b[<span class="hljs-number">1</span>:<span class="hljs-number">3</span>, <span class="hljs-number">1</span>:<span class="hljs-number">2</span>, -<span class="hljs-number">3</span>:-<span class="hljs-number">2</span>])<br></code></pre></td></tr></table></figure><p>输出结果为：</p><p><img src="/post/70407431/image-20220827145810399.png" srcset="/img/loading.gif" lazyload alt></p><h3 id="2-3-条件筛选">2.3 条件筛选</h3><p>上述选择方式是<strong>按照位置</strong>进行选择，下面介绍<strong>按照条件</strong>进行选择数据的方式。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<br>    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],<br>    [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],<br>    [<span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]<br>])<br><br><span class="hljs-built_in">print</span>(a[a &gt; <span class="hljs-number">7</span>])<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827150036396.png" srcset="/img/loading.gif" lazyload alt></p><p>上面选取的<code>a</code>中大于7的数据，下面演示了<code>a[a&gt;7]</code>中发生了什么。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<br>    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],<br>    [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],<br>    [<span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]<br>])<br><br>condition = a &gt; <span class="hljs-number">7</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;condition：\n&quot;</span>, condition)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a[condition]：\n&quot;</span>, a[condition])<br></code></pre></td></tr></table></figure><p><img src="/post/70407431/image-20220827150249769.png" srcset="/img/loading.gif" lazyload alt></p><p>从图中可以看出，condition是一种True/False，则只要我们得到一个True/False数据，我们就可以筛选，这就是它筛选的底层逻辑。</p><p>除了这种直接使用<code>[]</code>的形式，Numpy还有一个专用的函数来做数据筛选，还可以将满足条件的位置变成设定的数字。</p><p>下面展示了将上述<code>a</code>中大于7的数据变成1，否则就是0：</p><p><img src="/post/70407431/image-20220827150641296.png" srcset="/img/loading.gif" lazyload alt></p><h2 id="3-基础运算">3 基础运算</h2><h3 id="3-1-加减乘除">3.1 加减乘除</h3><p>Numpy Array对象可以直接使用<code>+-*/</code>进行运算，如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a + 3:&quot;</span>, a + <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a - 3:&quot;</span>, a - <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a * 3:&quot;</span>, a * <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a / 3:&quot;</span>, a / <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827150952234.png" srcset="/img/loading.gif" lazyload alt></p><p>矩阵的点积运算：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<br>    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>],<br>    [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br>])<br>b = np.array([<br>    [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>],<br>    [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br>])<br><br><span class="hljs-built_in">print</span>(a.dot(b))<br><span class="hljs-built_in">print</span>(np.dot(a, b))<br></code></pre></td></tr></table></figure><p>两种方法结果一样：</p><p><img src="/post/70407431/image-20220827151504577.png" srcset="/img/loading.gif" lazyload alt></p><p>还有矩阵外积<code>np.outer()</code>、矩阵内积<code>np.inner()</code>（和<code>np.dot()</code>略有不同，可以理解为<code>np.dot(a,b) = np.inner(a,b.transpose())</code>）。</p><h3 id="3-2-数据统计分析">3.2 数据统计分析</h3><p>可以通过以下方法获得最值、累加、累乘、平均数等统计参数，注意有些方法具有两种写法，比如<code>np.max(a)</code>和<code>a.max()</code>；有的只有一种写法，比如<code>np.median(a)</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">32</span>, <span class="hljs-number">56</span>, <span class="hljs-number">20</span>, <span class="hljs-number">0</span>, <span class="hljs-number">13</span>, <span class="hljs-number">1</span>])<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;最大：&quot;</span>, np.<span class="hljs-built_in">max</span>(a), a.<span class="hljs-built_in">max</span>())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;最小：&quot;</span>, np.<span class="hljs-built_in">min</span>(a), a.<span class="hljs-built_in">min</span>())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;累加：&quot;</span>, np.<span class="hljs-built_in">sum</span>(a), a.<span class="hljs-built_in">sum</span>())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;累乘：&quot;</span>, np.prod(a), a.prod())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;总数：&quot;</span>, np.size(a), a.size)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;平均数：&quot;</span>, np.mean(a), a.mean())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;标准差：&quot;</span>, np.std(a), a.std())<br><span class="hljs-comment"># 以下只有一种方法</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;中位数：&quot;</span>, np.median(a))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;非零总数：&quot;</span>, np.count_nonzero(a))<br></code></pre></td></tr></table></figure><h3 id="3-3-特殊运算符号">3.3 特殊运算符号</h3><h4 id="3-3-1-定位最值">3.3.1 定位最值</h4><p>有时候我们不关心最大值和最小值是多少，我们关心的是其对应的序号，此时可以使用<code>np.argmax()</code>和<code>np.argmin()</code>，比如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">150</span>, <span class="hljs-number">166</span>, <span class="hljs-number">183</span>, <span class="hljs-number">170</span>])<br>name = [<span class="hljs-string">&quot;小明&quot;</span>, <span class="hljs-string">&quot;小红&quot;</span>, <span class="hljs-string">&quot;小刚&quot;</span>, <span class="hljs-string">&quot;小亮&quot;</span>]<br>high_idx = np.argmax(a)<br>low_idx = np.argmin(a)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125; 最高&quot;</span>.<span class="hljs-built_in">format</span>(name[high_idx]))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125; 最矮&quot;</span>.<span class="hljs-built_in">format</span>(name[low_idx]))<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827152957382.png" srcset="/img/loading.gif" lazyload alt></p><h4 id="3-3-2-取整">3.3.2 取整</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">150.1</span>, <span class="hljs-number">166.4</span>, <span class="hljs-number">183.7</span>, <span class="hljs-number">170.8</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;向上取整:&quot;</span>, np.ceil(a))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;向下取整:&quot;</span>, np.floor(a))<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827153145429.png" srcset="/img/loading.gif" lazyload alt></p><h4 id="3-3-3-取值截取">3.3.3 取值截取</h4><p>给定一组数据和上下限，需要将小于下限的值赋值下限，大于上限的值赋值上限，如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">150.1</span>, <span class="hljs-number">166.4</span>, <span class="hljs-number">183.7</span>, <span class="hljs-number">170.8</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;clip:&quot;</span>, a.clip(<span class="hljs-number">160</span>, <span class="hljs-number">180</span>))<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827153507525.png" srcset="/img/loading.gif" lazyload alt></p><h2 id="4-改变数据姿态">4 改变数据姿态</h2><h3 id="4-1-添加维度">4.1 添加维度</h3><p>可以使用<code>np.newaxis</code>，其实它和<code>None</code>一样，比如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br><br>a_2d = a[np.newaxis, :]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;np.newaxis: &quot;</span>, np.newaxis)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a_2d: &quot;</span>, a_2d, a_2d.shape)<br><br>a_none = a[:, <span class="hljs-literal">None</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a_none: &quot;</span>, a_none, a_none.shape)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827154705641.png" srcset="/img/loading.gif" lazyload alt></p><p>可以看出<code>np.newaxis</code>其值就是<code>None</code>，需要注意添加维度的位置。</p><p>利用<code>np.expand_dims()</code>函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br><br>a_expand = np.expand_dims(a, axis=<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a_expand.shape: &quot;</span>, a_expand, a_expand.shape)<br>a_expand = np.expand_dims(a, axis=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a_expand.shape: &quot;</span>, a_expand, a_expand.shape)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827155010803.png" srcset="/img/loading.gif" lazyload alt></p><p>除了添加维度，还可以减少维度，当然只能减少shape为1的那些维度，因为这样减掉该维度后不丢失数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br><br>a_expand = np.expand_dims(a, axis=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a_expand.shape: &quot;</span>, a_expand, a_expand.shape)<br><br>a_squeeze = np.squeeze(a_expand)<br>a_squeeze_axis = a_expand.squeeze(axis=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(a_squeeze, a_squeeze.shape)<br><span class="hljs-built_in">print</span>(a_squeeze_axis, a_squeeze_axis.shape)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827155252339.png" srcset="/img/loading.gif" lazyload alt></p><p>可以使用<code>np.reshape()</code>改变数据结构，让数据重新“站队”：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br>a1 = a.reshape([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>a2 = a.reshape([<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>])<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a1 shape:&quot;</span>, a1.shape)<br><span class="hljs-built_in">print</span>(a1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;a2 shape:&quot;</span>, a2.shape)<br><span class="hljs-built_in">print</span>(a2)<br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827155604809.png" srcset="/img/loading.gif" lazyload alt></p><h3 id="4-2-合并">4.2 合并</h3><p><code>np.column_stack()</code>和<code>np.row_stack()</code>合并：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>feature_a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br>feature_b = np.array([<span class="hljs-number">11</span>, <span class="hljs-number">22</span>, <span class="hljs-number">33</span>, <span class="hljs-number">44</span>, <span class="hljs-number">55</span>, <span class="hljs-number">66</span>])<br>c_stack = np.column_stack([feature_a, feature_b])<br><span class="hljs-built_in">print</span>(c_stack)<br><br>sample_a = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1.1</span>, <span class="hljs-number">12</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2.3</span>, <span class="hljs-number">1</span>])<br>sample_b = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">123</span>, <span class="hljs-number">1</span>])<br>c_stack = np.row_stack([sample_a, sample_b])<br><span class="hljs-built_in">print</span>(c_stack)<br></code></pre></td></tr></table></figure><p><img src="/post/70407431/image-20220827160009273.png" srcset="/img/loading.gif" lazyload alt></p><p>看似与<code>np.vstack</code>和<code>np.hstack()</code>类似，但是它们存在一些区别，比如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>feature_a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])[:, <span class="hljs-literal">None</span>]<br>feature_b = np.array([<span class="hljs-number">11</span>, <span class="hljs-number">22</span>, <span class="hljs-number">33</span>, <span class="hljs-number">44</span>, <span class="hljs-number">55</span>, <span class="hljs-number">66</span>])[:, <span class="hljs-literal">None</span>]<br>c_stack = np.hstack([feature_a, feature_b])<br><span class="hljs-built_in">print</span>(c_stack)<br><br>sample_a = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1.1</span>])[<span class="hljs-literal">None</span>, :]<br>sample_b = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2.2</span>])[<span class="hljs-literal">None</span>, :]<br>c_stack = np.vstack([sample_a, sample_b])<br><span class="hljs-built_in">print</span>(c_stack)<br></code></pre></td></tr></table></figure><p>使用<code>np.vstack</code>和<code>np.hstack()</code>必须先保证维度信息是正确的，而<code>np.column_stack()</code>和<code>np.row_stack()</code>会自动处理维度信息。</p><p>使用<code>np.concatenate()</code>可以在任意维度合并：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([<br>    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>],<br>    [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br>])<br>b = np.array([<br>    [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>],<br>    [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br>])<br><br><span class="hljs-built_in">print</span>(np.concatenate([a, b], axis=<span class="hljs-number">0</span>))<br><span class="hljs-built_in">print</span>(np.concatenate([a, b], axis=<span class="hljs-number">1</span>))<br></code></pre></td></tr></table></figure><p><img src="/post/70407431/image-20220827160628963.png" srcset="/img/loading.gif" lazyload alt></p><h3 id="4-3-拆解">4.3 拆解</h3><p><code>np.vsplit()</code>和<code>np.hsplit()</code>实现横着、竖着拆解。</p><p>如果直接在 <code>indices_or_sections</code> 后填入数字，就是要整分的段数， 而如果接着的是一个列表，那就按照列表中的 index 来取区间。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array(<br>    [[<span class="hljs-number">1</span>, <span class="hljs-number">11</span>, <span class="hljs-number">2</span>, <span class="hljs-number">22</span>],<br>     [<span class="hljs-number">3</span>, <span class="hljs-number">33</span>, <span class="hljs-number">4</span>, <span class="hljs-number">44</span>],<br>     [<span class="hljs-number">5</span>, <span class="hljs-number">55</span>, <span class="hljs-number">6</span>, <span class="hljs-number">66</span>],<br>     [<span class="hljs-number">7</span>, <span class="hljs-number">77</span>, <span class="hljs-number">8</span>, <span class="hljs-number">88</span>]]<br>)<br><span class="hljs-built_in">print</span>(np.vsplit(a, indices_or_sections=<span class="hljs-number">2</span>))  <span class="hljs-comment"># 分成两段</span><br><span class="hljs-built_in">print</span>(np.vsplit(a, indices_or_sections=[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]))  <span class="hljs-comment"># 分片成 [:2]，[2:3], [3:]</span><br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827160805829-16615876864691.png" srcset="/img/loading.gif" lazyload alt></p><p><code>np.split()</code>在任一维度拆解：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array(<br>    [[<span class="hljs-number">1</span>, <span class="hljs-number">11</span>, <span class="hljs-number">2</span>, <span class="hljs-number">22</span>],<br>     [<span class="hljs-number">3</span>, <span class="hljs-number">33</span>, <span class="hljs-number">4</span>, <span class="hljs-number">44</span>],<br>     [<span class="hljs-number">5</span>, <span class="hljs-number">55</span>, <span class="hljs-number">6</span>, <span class="hljs-number">66</span>],<br>     [<span class="hljs-number">7</span>, <span class="hljs-number">77</span>, <span class="hljs-number">8</span>, <span class="hljs-number">88</span>]]<br>)<br><span class="hljs-built_in">print</span>(np.split(a, indices_or_sections=<span class="hljs-number">2</span>, axis=<span class="hljs-number">0</span>))  <span class="hljs-comment"># 分成两段</span><br><span class="hljs-built_in">print</span>(np.split(a, indices_or_sections=[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], axis=<span class="hljs-number">1</span>))  <span class="hljs-comment"># 在第二维度，分片成 [:2]，[2:3]，[3:]</span><br></code></pre></td></tr></table></figure><p>输出结果：</p><p><img src="/post/70407431/image-20220827160943968.png" srcset="/img/loading.gif" lazyload alt></p><blockquote><p>本文来源自<a target="_blank" rel="noopener" href="https://mofanpy.com/tutorials/data-manipulation/numpy/">Numpy 数据怪兽 | 莫烦Python (mofanpy.com)</a>.</p></blockquote></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="category-chain-item">Python学习笔记</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Python/">#Python</a> <a href="/tags/Numpy/">#Numpy</a></div></div><div class="license-box my-3"><div class="license-title"><div>Python学习笔记：numpy基础使用</div><div>https://summersong.top/post/70407431.html</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>SummerSong</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2022年8月27日</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2023年3月15日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/post/e5ddafc7.html" title="CMakeLists.txt入门介绍"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">CMakeLists.txt入门介绍</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/post/56458426.html" title="Python学习笔记：字符串格式化方法"><span class="hidden-mobile">Python学习笔记：字符串格式化方法</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a><div style="font-size:.85rem"><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script></div></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var o=jQuery("#board-ctn").offset().top;window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-o}),t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),n=[];for(var i of o)n.push(".markdown-body > "+i.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/love.js"></script><script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/dianjichuzi.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>